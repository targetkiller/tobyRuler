<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.b1{width: 50px;height: 50px;background-color: red;position: absolute;left: 0;top: 0;}
		.b2{width: 50px;height: 50px;background-color: green;position: absolute;left: 0;top: 0;}
	</style>
</head>
<body>
	<div class="b1"></div>
	<div class="b2"></div>
	<p>结论：若animate有回调，且回调也是animate，那么会排在外围animate的队列后面，延迟执行。</p>

	<script src="jquery.js"></script>
	<script>
		// moveleft('+=100',1000,0,function(){movetop('+=100',1000,0)})
		// moveleft('+=100',1000,0,function(){movetop('+=100',1000,0)})
		// moveleft('+=100',1000,0,function(){movetop('+=100',1000,0)})
		moveleft('+=100',1000,0);
		movetop('+=100',1000,1000);
		moveleft('+=100',1000,0);
		movetop('+=100',1000,1000);
		moveleft('+=100',1000,0);
		movetop('+=100',1000,1000);

		function moveleft(l,d,dl,callback){
			$('.b1').delay(dl).animate({
				left: l},
				d, function() {
				if(callback && (callback instanceof Function)){
					callback();
					console.log(1);
				}
			});
		}

		function movetop(t,d,dl,callback){
			$('.b2').delay(dl).animate({
				top: t},
				d, function() {
				if(callback && (callback instanceof Function)){
					callback();
					console.log(1);
				}
			});
		}
	</script>
</body>
</html>